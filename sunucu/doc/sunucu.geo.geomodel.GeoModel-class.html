<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>sunucu.geo.geomodel.GeoModel</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="sunucu-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="sunucu-module.html">Package&nbsp;sunucu</a> ::
        <a href="sunucu.geo-module.html">Package&nbsp;geo</a> ::
        <a href="sunucu.geo.geomodel-module.html">Module&nbsp;geomodel</a> ::
        Class&nbsp;GeoModel
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="sunucu.geo.geomodel.GeoModel-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class GeoModel</h1><p class="nomargin-top"><span class="codelink"><a href="sunucu.geo.geomodel-pysrc.html#GeoModel">source&nbsp;code</a></span></p>
<pre class="base-tree">
                   object --+    
                            |    
google.appengine.ext.db.Model --+
                                |
                               <strong class="uidshort">GeoModel</strong>
</pre>

<hr />
<pre class="literalblock">
A base model class for single-point geographically located entities.

Attributes:
  location: A db.GeoPt that defines the single geographic point
      associated with this entity.

</pre>

<!-- ==================== NESTED CLASSES ==================== -->
<a name="section-NestedClasses"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Nested Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-NestedClasses"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>google.appengine.ext.db.Model</code></b>:
      <code><a href="google.appengine.ext.db.PropertiedClass-class.html">__metaclass__</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="sunucu.geo.geomodel.GeoModel-class.html#update_location" class="summary-sig-name">update_location</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Syncs underlying geocell properties with the entity's location.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="sunucu.geo.geomodel-pysrc.html#GeoModel.update_location">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>google.appengine.ext.db.Model</code></b>:
      <code>__init__</code>,
      <code>delete</code>,
      <code>dynamic_properties</code>,
      <code>has_key</code>,
      <code>instance_properties</code>,
      <code>is_saved</code>,
      <code>key</code>,
      <code>parent</code>,
      <code>parent_key</code>,
      <code>put</code>,
      <code>save</code>,
      <code>to_xml</code>
      </p>
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code>google.appengine.ext.db.Model</code></b> (private):
      <code>_populate_entity</code>,
      <code>_populate_internal_entity</code>,
      <code>_to_entity</code>
      </p></div>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS METHODS ==================== -->
<a name="section-ClassMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>google.appengine.ext.db.Model</code></b>:
      <code>all</code>,
      <code>entity_type</code>,
      <code>fields</code>,
      <code>from_entity</code>,
      <code>get</code>,
      <code>get_by_id</code>,
      <code>get_by_key_name</code>,
      <code>get_or_insert</code>,
      <code>gql</code>,
      <code>kind</code>,
      <code>properties</code>
      </p>
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code>google.appengine.ext.db.Model</code></b> (private):
      <code>_load_entity_values</code>
      </p></div>
    </td>
  </tr>
</table>
<!-- ==================== STATIC METHODS ==================== -->
<a name="section-StaticMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Static Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-StaticMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="sunucu.geo.geomodel.GeoModel-class.html#bounding_box_fetch" class="summary-sig-name">bounding_box_fetch</a>(<span class="summary-sig-arg">query</span>,
        <span class="summary-sig-arg">bbox</span>,
        <span class="summary-sig-arg">max_results</span>=<span class="summary-sig-default">1000</span>,
        <span class="summary-sig-arg">cost_function</span>=<span class="summary-sig-default">None</span>)</span><br />
      Performs a bounding box fetch on the given query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="sunucu.geo.geomodel-pysrc.html#GeoModel.bounding_box_fetch">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="sunucu.geo.geomodel.GeoModel-class.html#proximity_fetch" class="summary-sig-name">proximity_fetch</a>(<span class="summary-sig-arg">query</span>,
        <span class="summary-sig-arg">center</span>,
        <span class="summary-sig-arg">max_results</span>=<span class="summary-sig-default">10</span>,
        <span class="summary-sig-arg">max_distance</span>=<span class="summary-sig-default">0</span>)</span><br />
      Performs a proximity/radius fetch on the given query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="sunucu.geo.geomodel-pysrc.html#GeoModel.proximity_fetch">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="location"></a><span class="summary-name">location</span> = <code title="db.GeoPtProperty(required= True)">db.GeoPtProperty(required= True)</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="location_geocells"></a><span class="summary-name">location_geocells</span> = <code title="db.StringListProperty()">db.StringListProperty()</code>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="update_location"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">update_location</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="sunucu.geo.geomodel-pysrc.html#GeoModel.update_location">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Syncs underlying geocell properties with the entity's location.</p>
  <p>Updates the underlying geocell properties of the entity to match the 
  entity's location property. A put() must occur after this call to save 
  the changes to App Engine.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="bounding_box_fetch"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">bounding_box_fetch</span>(<span class="sig-arg">query</span>,
        <span class="sig-arg">bbox</span>,
        <span class="sig-arg">max_results</span>=<span class="sig-default">1000</span>,
        <span class="sig-arg">cost_function</span>=<span class="sig-default">None</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="sunucu.geo.geomodel-pysrc.html#GeoModel.bounding_box_fetch">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Performs a bounding box fetch on the given query.

Fetches entities matching the given query with an additional filter
matching only those entities that are inside of the given rectangular
bounding box.

Args:
  query: A db.Query on entities of this kind that should be additionally
      filtered by bounding box and subsequently fetched.
  bbox: A geotypes.Box indicating the bounding box to filter entities by.
  max_results: An optional int indicating the maximum number of desired
      results.
  cost_function: An optional function that accepts two arguments:
      * num_cells: the number of cells to search
      * resolution: the resolution of each cell to search
      and returns the 'cost' of querying against this number of cells
      at the given resolution.

Returns:
  The fetched entities.

Raises:
  Any exceptions that google.appengine.ext.db.Query.fetch() can raise.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="proximity_fetch"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">proximity_fetch</span>(<span class="sig-arg">query</span>,
        <span class="sig-arg">center</span>,
        <span class="sig-arg">max_results</span>=<span class="sig-default">10</span>,
        <span class="sig-arg">max_distance</span>=<span class="sig-default">0</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="sunucu.geo.geomodel-pysrc.html#GeoModel.proximity_fetch">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Performs a proximity/radius fetch on the given query.

Fetches at most &lt;max_results&gt; entities matching the given query,
ordered by ascending distance from the given center point, and optionally
limited by the given maximum distance.

This method uses a greedy algorithm that starts by searching high-resolution
geocells near the center point and gradually looking in lower and lower
resolution cells until max_results entities have been found matching the
given query and no closer possible entities can be found.

Args:
  query: A db.Query on entities of this kind.
  center: A geotypes.Point or db.GeoPt indicating the center point around
      which to search for matching entities.
  max_results: An int indicating the maximum number of desired results.
      The default is 10, and the larger this number, the longer the fetch
      will take.
  max_distance: An optional number indicating the maximum distance to
      search, in meters.

Returns:
  The fetched entities, sorted in ascending order by distance to the search
  center.

Raises:
  Any exceptions that google.appengine.ext.db.Query.fetch() can raise.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="sunucu-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Sun Feb  6 17:58:56 2011
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
